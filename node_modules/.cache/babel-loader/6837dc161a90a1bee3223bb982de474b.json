{"remainingRequest":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\babel-loader\\lib\\index.js!D:\\HB\\Vue面试项目\\toolbyVue\\src\\store\\users.js","dependencies":[{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\src\\store\\users.js","mtime":1648388600376},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\babel.config.js","mtime":1640594764925},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648380180457},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1648380181669}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0TG9naW4gYXMgX2dldExvZ2luIH0gZnJvbSAiLi4vYXBpL3VzZXIiOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlci9pbmRleCc7ClZ1ZS51c2UoVnVleCk7CnZhciBzdGF0ZSA9IHsKICBsb2dpbmZvcm06IHsKICAgIHVzZXI6ICcnLAogICAgcHdkOiAnJwogIH0sCiAgcmVzdWx0OiBudWxsLAogIHRpdGxlOiAnJwp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldExvZ2luOiBmdW5jdGlvbiBzZXRMb2dpbihzdGF0ZSwgcGFyYW0pIHsKICAgIHN0YXRlLnJlc3VsdCA9IHBhcmFtLnJlc3VsdDsKICB9LAogIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIG4pIHsKICAgIHN0YXRlLmxvZ2luZm9ybS51c2VyID0gbjsKICB9LAogIHNldFB3ZDogZnVuY3Rpb24gc2V0UHdkKHN0YXRlLCBuKSB7CiAgICBzdGF0ZS5sb2dpbmZvcm0ucHdkID0gbjsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGdldExvZ2luOiBmdW5jdGlvbiBnZXRMb2dpbihjb250ZXh0KSB7CiAgICBfZ2V0TG9naW4oKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICBjb250ZXh0LmNvbW1pdCgnc2V0TG9naW4nLCB7CiAgICAgICAgcmVzdWx0OiByZXMuZGF0YQogICAgICB9KTsKICAgICAgdmFyIGxlbiA9IHJlcy5kYXRhLmxlbmd0aDsKICAgICAgdmFyIHVzZXJOYW1lQXJyID0gW107CiAgICAgIHZhciBwYXNzV29yZEFyciA9IFtdOwogICAgICB2YXIgc2VzID0gd2luZG93LnNlc3Npb25TdG9yYWdlOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgIHVzZXJOYW1lQXJyLnB1c2gocmVzLmRhdGFbaV0udXNlcm5hbWUpOwogICAgICAgIHBhc3NXb3JkQXJyLnB1c2gocmVzLmRhdGFbaV0ucGFzc3dvcmQpOwogICAgICB9CgogICAgICBpZiAodXNlck5hbWVBcnIuaW5kZXhPZihzdGF0ZS5sb2dpbmZvcm0udXNlcikgPT09IC0xKSB7CiAgICAgICAgYWxlcnQoIui0puWPt+S4jeWtmOWcqO+8gSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpbmRleCA9IHVzZXJOYW1lQXJyLmluZGV4T2Yoc3RhdGUubG9naW5mb3JtLnVzZXIpOwoKICAgICAgICBpZiAocGFzc1dvcmRBcnJbaW5kZXhdID09PSBzdGF0ZS5sb2dpbmZvcm0ucHdkKSB7CiAgICAgICAgICAvLyDmiop0b2tlbuaUvuWcqHNlc3Npb25TdG9yYWdl5LitCiAgICAgICAgICBzZXMuc2V0SXRlbSgiZGF0YSIsIHJlcy5kYXRhW2luZGV4XS50b2tlbik7CiAgICAgICAgICBjb25zb2xlLmxvZyhzZXMsICdzZXMnKTsKICAgICAgICAgIHN0YXRlLnRpdGxlID0gcmVzLmRhdGFbaW5kZXhdLnVzZXJ0aXRsZTsgLy/ot7PovazliLDpppbpobUKCiAgICAgICAgICByb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgi5a+G56CB6ZSZ6K+v77yBIik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9LAogIGxvZ2luT3V0OiBmdW5jdGlvbiBsb2dpbk91dCgpIHsKICAgIC8vIOazqOmUgOWQjiDmuIXpmaRzZXNzaW9u5L+h5oGvIO+8jOW5tui/lOWbnueZu+W9lemhtQogICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2RhdGEnKTsKICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9KTs="},{"version":3,"sources":["D:/HB/Vue面试项目/toolbyVue/src/store/users.js"],"names":["Vue","Vuex","getLogin","router","use","state","loginform","user","pwd","result","title","mutations","setLogin","param","setUser","n","setPwd","actions","context","then","res","console","log","data","commit","len","length","userNameArr","passWordArr","ses","window","sessionStorage","i","push","username","password","indexOf","alert","index","setItem","token","usertitle","loginOut","removeItem","Store"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport { getLogin } from \"../api/user\";\r\nimport router from '../router/index'\r\nVue.use(Vuex);\r\n\r\nconst state = {\r\n  loginform: {\r\n    user:'',\r\n    pwd:''\r\n  },\r\n  result:null,\r\n  title:''\r\n}\r\nconst mutations={\r\n  setLogin(state,param){\r\n    state.result=param.result\r\n  },\r\n  setUser(state,n){\r\n    state.loginform.user=n\r\n  },\r\n  setPwd(state,n){\r\n    state.loginform.pwd=n\r\n  },\r\n}\r\nconst actions={\r\n  getLogin(context){\r\n    getLogin().then(res => {\r\n      console.log(res.data);\r\n      context.commit('setLogin',{result:res.data})\r\n      let len = res.data.length;\r\n      let userNameArr = [];\r\n      let passWordArr = [];\r\n      let ses = window.sessionStorage;\r\n      for (var i = 0; i < len; i++) {\r\n        userNameArr.push(res.data[i].username);\r\n        passWordArr.push(res.data[i].password);\r\n      }\r\n      if (userNameArr.indexOf(state.loginform.user) === -1) {\r\n        alert(\"账号不存在！\");\r\n      } else {\r\n        var index = userNameArr.indexOf(state.loginform.user);\r\n        if (passWordArr[index] === state.loginform.pwd) {\r\n          // 把token放在sessionStorage中\r\n          ses.setItem(\"data\", res.data[index].token);\r\n          console.log(ses,'ses')\r\n          state.title=res.data[index].usertitle\r\n          //跳转到首页\r\n          router.push(\"/\");\r\n        } else {\r\n          alert(\"密码错误！\");\r\n        }\r\n      }\r\n    });\r\n  },\r\n  loginOut(){\r\n    // 注销后 清除session信息 ，并返回登录页\r\n    window.sessionStorage.removeItem('data');\r\n    router.push('/login');\r\n  }\r\n}\r\nexport default new Vuex.Store({\r\n  state,\r\n  mutations,\r\n  actions\r\n})\r\n"]}]}