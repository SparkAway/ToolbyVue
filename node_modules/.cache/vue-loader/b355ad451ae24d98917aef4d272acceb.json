{"remainingRequest":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HB\\Vue面试项目\\toolbyVue\\src\\views\\user\\beiwanglu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\src\\views\\user\\beiwanglu.vue","mtime":1641112735654},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638879652431},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1638879657737},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638879652431},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1638879655935}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWxUYlVzZXIsIGZpbmRVc2VyTGlzdCwgc2F2ZVRiVXNlciwgdXBkYXRlVGJVc2VyIH0gZnJvbSAnQC9hcGkvVGJVc2VycycNCmltcG9ydCBVc2VyQWRkIGZyb20gJ0Avdmlld3MvdXNlci9Vc2VyQWRkJw0KaW1wb3J0IHsgZGVsQmVpd2FuZywgZmluZGJlaXdhbmcsIHNhdmVCZWl3YW5nIH0gZnJvbSAnQC9hcGkvVGJCZWl3YW5nJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdiZWl3YW5nbHUnLA0KICBjb21wb25lbnRzOiB7IFVzZXJBZGQgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8g5L+u5pS555So5oi35L+h5oGv55qE6KGo5Y2V5pWw5o2uDQogICAgICBlZGl0Rm9ybTogew0KICAgICAgICB0aW1lOicnLA0KICAgICAgICBpdGVtOicnLA0KICAgICAgICBwbGFjZTonJw0KICAgICAgfSwNCiAgICAgIGVkaXREaWFsb2dWaXNpYmxlOiBmYWxzZSAsLy8g5o6n5Yi25L+u5pS555So5oi35L+h5oGv5a+56K+d5qGG5piv5ZCm5pi+56S6DQogICAgICB0YlVzZXJWTzogew0KICAgICAgICBpZDonJywNCiAgICAgICAgbmFtZTonJywNCiAgICAgICAgc2V4OicnLA0KICAgICAgICBiaXJ0aDonJywNCiAgICAgICAgbm90ZWlkOicnLA0KICAgICAgICBlbWFpbDonJywNCiAgICAgICAgcGhvbmU6JycsDQogICAgICAgIHdvcmtwbGFjZTonJywNCiAgICAgICAgY2l0eTonJw0KICAgICAgfSwNCiAgICAgIC8v5b2T5YmN6aG156CBDQogICAgICBjdXJyZW50OjEsDQogICAgICAvL+avj+mhteaYvuekuuadoeaVsA0KICAgICAgcGFnZVNpemU6NiwNCiAgICAgIC8v5oC75p2h5pWwDQogICAgICB0b3RhbDoxMDAsDQogICAgICBiZWl3YW5nbGlzdDpbXSwNCiAgICAgIGFkZE9yVXBkYXRlVmlzaWJsZTogZmFsc2UNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuZ2V0QmVpd2FuZ2xpc3QoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uU3VibWl0KCkgew0KICAgICAgY29uc29sZS5sb2coJ3N1Ym1pdCEnKTsNCiAgICB9LA0KICAgIGFzeW5jIGRlbHdhbmcoaWQpew0KICAgICAgY29uc3QgY29uZmlybVJlc3VsdCA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOi/nOWIoOmZpOatpOadoeWkh+W/mOW9le+8jOaYr+WQpue7p+e7re+8nycsJ+aPkOekuicsew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDon56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDon5Y+W5raIJywNCiAgICAgICAgdHlwZTond2FybmluZycNCiAgICAgIH0pLmNhdGNoKGVycj0+ZXJyKQ0KICAgICAgaWYoY29uZmlybVJlc3VsdCE9J2NvbmZpcm0nKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCflj5bmtojkuobliKDpmaQnKTsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH09YXdhaXQgZGVsQmVpd2FuZyhpZCk7DQogICAgICBpZihyZXMuY29kZSA9PSAyMDAwKXsNCiAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3Moew0KICAgICAgICAgIHRpdGxlOifmk43kvZzmiJDlip8nLA0KICAgICAgICAgIG1lc3NhZ2U6J+WIoOmZpOeUn+aIkCcsDQogICAgICAgIH0pDQogICAgICAgIC8v5YWz6ZetDQogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZVNob3cnLCdmYWxzZScpDQogICAgICAgIGF3YWl0IHRoaXMuZ2V0QmVpd2FuZ2xpc3QoKTsNCiAgICAgIH1lbHNlew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign55So5oi35re75Yqg5aSx6LSlJytyZXMubWVzc2FnZSk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDnm5HlkKwg5L+u5pS555So5oi35L+h5oGv5a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2DQogICAgZWRpdERpYWxvZ0Nsb3NlZCgpIHsNCiAgICAgIC8vIOihqOWNleWGheWuuemHjee9ruS4uuepug0KICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi5yZXNldEZpZWxkcygpIC8vIOmAmui/h3JlZuW8leeUqOiwg+eUqHJlc2V0RmllbGRz5pa55rOVDQogICAgfSwNCiAgICAvLyDngrnlh7vmjInpkq7mt7vliqDnlKjmiLfkv6Hmga8NCiAgICAvL+a3u+WKoOeUqOaItw0KICAgIGFzeW5jIGVkaXRCZWl3YW5nSW5mbygpew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfT1hd2FpdCBzYXZlQmVpd2FuZyh0aGlzLmVkaXRGb3JtKTsNCiAgICAgIGlmKHJlcy5jb2RlID09IDIwMDApew0KICAgICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7DQogICAgICAgICAgdGl0bGU6J+aTjeS9nOaIkOWKnycsDQogICAgICAgICAgbWVzc2FnZTon55So5oi35re75Yqg5oiQ5YqfJywNCiAgICAgICAgfSkNCiAgICAgICAgLy/lhbPpl60NCiAgICAgICAgdGhpcy5lZGl0RGlhbG9nVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICBhd2FpdCB0aGlzLmdldEJlaXdhbmdsaXN0KCk7DQogICAgICB9ZWxzZXsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+eUqOaIt+a3u+WKoOWksei0pScrcmVzLm1lc3NhZ2UpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/lvZPmr4/pobXmnaHmlbDmlLnlj5jnmoTml7blgJkNCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5zaXplID0gdmFsOw0KICAgICAgdGhpcy5nZXRCZWl3YW5nbGlzdCgpOw0KICAgIH0sDQogICAgLy/lvZPliY3pobXnoIHmlLnlj5jnmoTml7blgJkNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5jdXJyZW50ID0gdmFsOw0KICAgICAgdGhpcy5nZXRCZWl3YW5nbGlzdCgpOw0KICAgIH0sDQogICAgLy8g5oyJ6ZKu54K55Ye75LqL5Lu2IOaYvuekuuaWsOWinue8lui+keW8ueeql+e7hOS7tg0KICAgIHNob3coKXsNCiAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICAvLyDnm5HlkKwg5a2Q57uE5Lu25by556qX5YWz6Zet5ZCO6Kem5Y+R77yM5pyJ5a2Q57uE5Lu26LCD55SoDQogICAgc2hvd0FkZE9yVXBkYXRlKGRhdGEpew0KICAgICAgaWYoZGF0YSA9PT0gJ2ZhbHNlJyl7DQogICAgICAgIHRoaXMuYWRkT3JVcGRhdGVWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgdGhpcy5hZGRPclVwZGF0ZVZpc2libGUgPSB0cnVlDQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBnZXRCZWl3YW5nbGlzdCgpew0KICAgICAgY29uc3Qge2RhdGF9ID0gYXdhaXQgZmluZGJlaXdhbmcodGhpcy5jdXJyZW50LHRoaXMuc2l6ZSk7DQogICAgICB0aGlzLmJlaXdhbmdsaXN0ID0gZGF0YS5kYXRhLnJlY29yZDsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYmVpd2FuZ2xpc3QpOw0KICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgfSwNCiAgfQ0KDQp9DQo="},{"version":3,"sources":["beiwanglu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"beiwanglu.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <div>\r\n    <!--    面包屑-->\r\n    <el-breadcrumb separator=\"/\" style=\"padding-left: 10px;padding-bottom:10px;font-size: 12px\">\r\n      <el-breadcrumb-item :to=\"{ path: '/Main' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>信息管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>备忘录信息管理</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--    用户列表卡片-->\r\n    <el-card class=\"box-card\">\r\n      <el-form :inline=\"true\" :model=\"tbUserVO\" class=\"demo-form-inline\">\r\n        <el-form-item style=\"margin-left:0px\">\r\n          <el-button type=\"success\" icon=\"el-icon-plus\" @click=\"show\">添加</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!--      表格内容显示区域-->\r\n      <el-table width=\"100%\"\r\n                :data=\"beiwanglist\"\r\n                max-height=\"390px\"\r\n                style=\"width: 100%\">\r\n        <!--        <el-table-column-->\r\n        <!--          prop=\"id\"-->\r\n        <!--          label=\"#\"-->\r\n        <!--          width=\"50\">-->\r\n        <!--        </el-table-column>-->\r\n        <el-table-column\r\n          prop=\"time\"\r\n          label=\"时间\"\r\n          width=\"110\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"place\"\r\n          label=\"地点\"\r\n          width=\"110\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"item\"\r\n          label=\"事件\"\r\n          width=\"110\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\"@click=\"delwang(scope.row.id)\"></el-button>\r\n          </template>\r\n\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        style=\"padding-top: 10px\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"current\"\r\n        :page-sizes=\"[6, 10, 20, 30]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n      <el-dialog title=\"添加用户\" :visible.sync=\"editDialogVisible\" width=\"50%\" @close=\"editDialogClosed\">\r\n        <!--内容主体区域-->\r\n        <el-form :model=\"editForm\"  ref=\"editFormRef\" label-width=\"70px\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"时间\" prop=\"time\">\r\n              <el-input v-model=\"editForm.time\" placeholder=\"请输入时间\" clearable :style=\"{width: '100%'}\">\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"地点\" prop=\"place\">\r\n              <el-input v-model=\"editForm.place\" placeholder=\"请输入地点\" clearable :style=\"{width: '100%'}\">\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"事件\" prop=\"item\">\r\n              <el-input v-model=\"editForm.item\" placeholder=\"请输入事件\" clearable :style=\"{width: '100%'}\">\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editBeiwangInfo\">确 定</el-button>\r\n      </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { delTbUser, findUserList, saveTbUser, updateTbUser } from '@/api/TbUsers'\r\nimport UserAdd from '@/views/user/UserAdd'\r\nimport { delBeiwang, findbeiwang, saveBeiwang } from '@/api/TbBeiwang'\r\n\r\nexport default {\r\n  name: 'beiwanglu',\r\n  components: { UserAdd },\r\n  data() {\r\n    return {\r\n      // 修改用户信息的表单数据\r\n      editForm: {\r\n        time:'',\r\n        item:'',\r\n        place:''\r\n      },\r\n      editDialogVisible: false ,// 控制修改用户信息对话框是否显示\r\n      tbUserVO: {\r\n        id:'',\r\n        name:'',\r\n        sex:'',\r\n        birth:'',\r\n        noteid:'',\r\n        email:'',\r\n        phone:'',\r\n        workplace:'',\r\n        city:''\r\n      },\r\n      //当前页码\r\n      current:1,\r\n      //每页显示条数\r\n      pageSize:6,\r\n      //总条数\r\n      total:100,\r\n      beiwanglist:[],\r\n      addOrUpdateVisible: false\r\n    }\r\n  },\r\n  created () {\r\n    this.getBeiwanglist();\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      console.log('submit!');\r\n    },\r\n    async delwang(id){\r\n      const confirmResult = await this.$confirm('此操作将永远删除此条备忘录，是否继续？','提示',{\r\n        confirmButtonText:'确定',\r\n        cancelButtonText:'取消',\r\n        type:'warning'\r\n      }).catch(err=>err)\r\n      if(confirmResult!='confirm') return this.$message.info('取消了删除');\r\n      const { data: res }=await delBeiwang(id);\r\n      if(res.code == 2000){\r\n        this.$notify.success({\r\n          title:'操作成功',\r\n          message:'删除生成',\r\n        })\r\n        //关闭\r\n        this.$emit('changeShow','false')\r\n        await this.getBeiwanglist();\r\n      }else{\r\n        return this.$message.error('用户添加失败'+res.message);\r\n      }\r\n    },\r\n    // 监听 修改用户信息对话框的关闭事件\r\n    editDialogClosed() {\r\n      // 表单内容重置为空\r\n      this.$refs.editFormRef.resetFields() // 通过ref引用调用resetFields方法\r\n    },\r\n    // 点击按钮添加用户信息\r\n    //添加用户\r\n    async editBeiwangInfo(){\r\n      const { data: res }=await saveBeiwang(this.editForm);\r\n      if(res.code == 2000){\r\n        this.$notify.success({\r\n          title:'操作成功',\r\n          message:'用户添加成功',\r\n        })\r\n        //关闭\r\n        this.editDialogVisible = false;\r\n        await this.getBeiwanglist();\r\n      }else{\r\n        return this.$message.error('用户添加失败'+res.message);\r\n      }\r\n    },\r\n    //当每页条数改变的时候\r\n    handleSizeChange(val) {\r\n      this.size = val;\r\n      this.getBeiwanglist();\r\n    },\r\n    //当前页码改变的时候\r\n    handleCurrentChange(val) {\r\n      this.current = val;\r\n      this.getBeiwanglist();\r\n    },\r\n    // 按钮点击事件 显示新增编辑弹窗组件\r\n    show(){\r\n      this.editDialogVisible = true\r\n    },\r\n    // 监听 子组件弹窗关闭后触发，有子组件调用\r\n    showAddOrUpdate(data){\r\n      if(data === 'false'){\r\n        this.addOrUpdateVisible = false\r\n        this.addOrUpdateVisible = true\r\n      }\r\n    },\r\n    async getBeiwanglist(){\r\n      const {data} = await findbeiwang(this.current,this.size);\r\n      this.beiwanglist = data.data.record;\r\n      console.log(this.beiwanglist);\r\n      console.log(data);\r\n    },\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}