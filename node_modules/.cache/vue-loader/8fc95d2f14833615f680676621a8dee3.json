{"remainingRequest":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HB\\Vue面试项目\\toolbyVue\\src\\views\\user\\UserAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\src\\views\\user\\UserAdd.vue","mtime":1641053070935},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648380180457},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1648380181669},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648380180457},{"path":"D:\\HB\\Vue面试项目\\toolbyVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1648380235966}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7c2F2ZVRiVXNlcn0gZnJvbSAnQC9hcGkvVGJVc2VycycKZXhwb3J0IGRlZmF1bHQgewogIGluaGVyaXRBdHRyczogZmFsc2UsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6ewogICAgYWRkT3JVcGRhdGVWaXNpYmxlOnsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YlVzZXI6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBzZXg6ICcnLAogICAgICAgIHdvcmtwbGFjZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBjaXR5OiAnJywKICAgICAgICBub3RlaWQ6JycsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICB9LAogICAgICAvLyDmjqfliLblvLnlh7rmoYbmmL7npLrpmpDol48KICAgICAgc2hvd0RpYWxvZzpmYWxzZSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5aeT5ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHNleDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+aAp+WIq+S4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH1dLAogICAgICAgIHdvcmtwbGFjZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeW3peS9nOWcsOeCueW3peS9nOWcsOeCuScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBlbWFpbDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemCrueusScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwaG9uZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUteivnScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjaXR5OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5Z+O5biCJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG5vdGVuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5aSH5rOoJywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgIH0sCiAgICAgIHNleE9wdGlvbnM6IFt7CiAgICAgICAgImxhYmVsIjogIueUtyIsCiAgICAgICAgInZhbHVlIjogMAogICAgICB9LCB7CiAgICAgICAgImxhYmVsIjogIuWlsyIsCiAgICAgICAgInZhbHVlIjogMQogICAgICB9XSwKICAgICAgbm90ZW5hbWVPcHRpb25zOiBbewogICAgICAgICJsYWJlbCI6ICLogIHlrrbnmoQiLAogICAgICAgICJ2YWx1ZSI6IDEKICAgICAgfSwgewogICAgICAgICJsYWJlbCI6ICLlpKflraYiLAogICAgICAgICJ2YWx1ZSI6IDIKICAgICAgfSwgewogICAgICAgICJsYWJlbCI6ICLkuK3lraYiLAogICAgICAgICJ2YWx1ZSI6IDMKICAgICAgfSwgewogICAgICAgICJsYWJlbCI6ICLlt6XkvZwiLAogICAgICAgICJ2YWx1ZSI6IDQKICAgICAgfSwgewogICAgICAgICJsYWJlbCI6ICLlsI/lraYiLAogICAgICAgICJ2YWx1ZSI6IDUKICAgICAgfV0sCiAgICB9CiAgfSwKICBjb21wdXRlZDoge30sCiAgY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQoKSB7fSwKICB3YXRjaDp7CiAgICAvLyDnm5HlkKwgYWRkT3JVcGRhdGVWaXNpYmxlIOaUueWPmAogICAgYWRkT3JVcGRhdGVWaXNpYmxlKG9sZFZhbCxuZXdWYWwpewogICAgICB0aGlzLnNob3dEaWFsb2cgPSB0aGlzLmFkZE9yVXBkYXRlVmlzaWJsZQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uT3BlbigpIHt9LAogICAgb25DbG9zZSgpIHsKICAgICAgdGhpcy4kcmVmc1snZWxGb3JtJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlU2hvdycsICdmYWxzZScpOwogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIGZhbHNlKTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlU2hvdycsICdmYWxzZScpOwogICAgfSwKICAgIGhhbmRlbENvbmZpcm0oKSB7CiAgICAgIGNvbnNvbGUubG9nKCLmj5DkuqQiKTsKICAgICAgdGhpcy4kcmVmc1snZWxGb3JtJ10udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybgogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGJVc2VyKTsKICAgICAgICB0aGlzLmFkZFRiVXNlcigpOwogICAgICB9KQogICAgfSwKICAgIC8v5re75Yqg55So5oi3CiAgICBhc3luYyBhZGRUYlVzZXIoKXsKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfT1hd2FpdCBzYXZlVGJVc2VyKHRoaXMudGJVc2VyKTsKICAgICAgaWYocmVzLmNvZGUgPT0gMjAwMCl7CiAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgdGl0bGU6J+aTjeS9nOaIkOWKnycsCiAgICAgICAgICBtZXNzYWdlOifnlKjmiLfmt7vliqDmiJDlip8nLAogICAgICAgIH0pCiAgICAgICAgLy/lhbPpl60KICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2VTaG93JywnZmFsc2UnKQogICAgICAgIHRoaXMudGJVc2VyID0ge30KICAgICAgICB0aGlzLiRlbWl0KCdnZXRVc2VybGlzdCcpOwogICAgICAgIHRoaXMuJGVtaXQoJ2dldE5vdGVDb3VudCcpOwogICAgICB9ZWxzZXsKICAgICAgICByZXR1cm4gdGlocy4kbWVzc2FnZS5lcnJvcign55So5oi35re75Yqg5aSx6LSlJytyZXMubWVzc2FnZSk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDbG9zZSgpewogICAgICAvLyDlrZDnu4Tku7bosIPnlKjniLbnu4Tku7bmlrnms5XvvIzlubbkvKDpgJLlj4LmlbAKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlU2hvdycsJ2ZhbHNlJykKICAgIH0KICB9Cn0KCg=="},{"version":3,"sources":["UserAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserAdd.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <div>\n    <el-dialog v-bind=\"$attrs\" :visible.sync=\"showDialog\" v-on=\"$listeners\" @open=\"onOpen\" @close=\"onClose\" title=\"添加联系人\">\n      <el-row :gutter=\"15\">\n        <el-form ref=\"elForm\" :model=\"tbUser\" :rules=\"rules\" size=\"medium\" label-width=\"100px\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"姓名\" prop=\"name\">\n              <el-input v-model=\"tbUser.name\" placeholder=\"请输入姓名\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"性别\" prop=\"sex\">\n              <el-radio-group v-model=\"tbUser.sex\" size=\"mini\">\n                <el-radio-button v-for=\"(item, index) in sexOptions\" :key=\"index\" :label=\"item.value\"\n                  :disabled=\"item.disabled\" border>{{item.label}}</el-radio-button>\n              </el-radio-group>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"工作地点\" prop=\"workplace\">\n              <el-input v-model=\"tbUser.workplace\" placeholder=\"请输入工作地点工作地点\" clearable\n                :style=\"{width: '100%'}\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"邮箱\" prop=\"email\">\n              <el-input v-model=\"tbUser.email\" placeholder=\"请输入邮箱\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"电话\" prop=\"phone\">\n              <el-input v-model=\"tbUser.phone\" placeholder=\"请输入电话\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"城市\" prop=\"city\">\n              <el-input v-model=\"tbUser.city\" placeholder=\"请输入城市\" clearable :style=\"{width: '100%'}\">\n              </el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"备注\" prop=\"noteid\">\n              <el-select v-model=\"tbUser.noteid\" placeholder=\"请选择备注\" clearable :style=\"{width: '100%'}\">\n                <el-option v-for=\"(item, index) in notenameOptions\" :key=\"index\" :label=\"item.label\"\n                           :value=\"item.value\" :disabled=\"item.disabled\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-form>\n      </el-row>\n      <div slot=\"footer\">\n        <el-button @click=\"close\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handelConfirm\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport {saveTbUser} from '@/api/TbUsers'\nexport default {\n  inheritAttrs: false,\n  components: {},\n  props:{\n    addOrUpdateVisible:{\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      tbUser: {\n        name: '',\n        sex: '',\n        workplace: '',\n        email: '',\n        phone: '',\n        city: '',\n        noteid:'',\n        value: '',\n      },\n      // 控制弹出框显示隐藏\n      showDialog:false,\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        sex: [{\n          required: true,\n          message: '性别不能为空',\n          trigger: 'change'\n        }],\n        workplace: [{\n          required: true,\n          message: '请输入工作地点工作地点',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入电话',\n          trigger: 'blur'\n        }],\n        city: [{\n          required: true,\n          message: '请输入城市',\n          trigger: 'blur'\n        }],\n        notename: [{\n          required: true,\n          message: '请选择备注',\n          trigger: 'change'\n        }],\n      },\n      sexOptions: [{\n        \"label\": \"男\",\n        \"value\": 0\n      }, {\n        \"label\": \"女\",\n        \"value\": 1\n      }],\n      notenameOptions: [{\n        \"label\": \"老家的\",\n        \"value\": 1\n      }, {\n        \"label\": \"大学\",\n        \"value\": 2\n      }, {\n        \"label\": \"中学\",\n        \"value\": 3\n      }, {\n        \"label\": \"工作\",\n        \"value\": 4\n      }, {\n        \"label\": \"小学\",\n        \"value\": 5\n      }],\n    }\n  },\n  computed: {},\n  created() {},\n  mounted() {},\n  watch:{\n    // 监听 addOrUpdateVisible 改变\n    addOrUpdateVisible(oldVal,newVal){\n      this.showDialog = this.addOrUpdateVisible\n    },\n  },\n  methods: {\n    onOpen() {},\n    onClose() {\n      this.$refs['elForm'].resetFields();\n      this.$emit('changeShow', 'false');\n    },\n    close() {\n      this.$emit('update:visible', false);\n      this.$emit('changeShow', 'false');\n    },\n    handelConfirm() {\n      console.log(\"提交\");\n      this.$refs['elForm'].validate(valid => {\n        if (!valid) return\n        console.log(this.tbUser);\n        this.addTbUser();\n      })\n    },\n    //添加用户\n    async addTbUser(){\n      const { data: res }=await saveTbUser(this.tbUser);\n      if(res.code == 2000){\n        this.$notify.success({\n          title:'操作成功',\n          message:'用户添加成功',\n        })\n        //关闭\n        this.$emit('changeShow','false')\n        this.tbUser = {}\n        this.$emit('getUserlist');\n        this.$emit('getNoteCount');\n      }else{\n        return tihs.$message.error('用户添加失败'+res.message);\n      }\n    },\n    handleClose(){\n      // 子组件调用父组件方法，并传递参数\n      this.$emit('changeShow','false')\n    }\n  }\n}\n\n</script>\n<style>\n</style>\n"]}]}